package com.nt.dao;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;
import javax.inject.Named;

import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowCallbackHandler;

import com.nt.bo.EmployeeBo;
@Named("empDAO")
public class EmpDaoImpl implements EmpDao {
private static final String Get_EMP_COUNT="SELECT COUNT(*) FROM EMP";
private static final String GET_EMP_DETAILS_BY_DESG="SELECT EMPID,ENAME,ENAME,JOB,SAL FROM WHER JOB=?";
@Resource
private JdbcTemplate jt;
@Override
	public int getEmpCount() {
	int count=0;
		// TODO Auto-generated method stub
	count=jt.queryForObject(Get_EMP_COUNT, Integer.class);
		return count;
	}

	@Override
	public List<EmployeeBo> getEmpdetailsByDesg(String desg) {
		// TODO Auto-generated method stub
		List<EmployeeBo> listbo=null;
		listbo=new ArrayList<EmployeeBo>();
		jt.query(GET_EMP_DETAILS_BY_DESG, new EmployeeRowCallBackHandler(listBO),desg);
		return listbo;
	}
	private static class EmployeeRowCallBackHandler implements RowCallbackHandler{

		public EmployeeRowCallBackHandler(List<EmployeeBo> listbo) {
			this.listbo=listbo;
			// TODO Auto-generated constructor stub
		}
		@Override
		public void processRow(ResultSet arg0) throws SQLException {
			// TODO Auto-generated method stub
			
		}
		
	}

}
